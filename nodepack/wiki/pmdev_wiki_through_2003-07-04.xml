<node>
  <doctext>Continued from [id://328159]...
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-07-04&lt;br /&gt;
I changed [belg4mit]'s patch so the user setting is called 'navmenuoff' not 'titlebaroff' and the description calls it a 'navigation menu' not a 'section list'.  My thinking is that the 'title bar' is (primarilly) the colored bar that contains the site title (PerlMonks) and that the navigation menu is under it and contains more than just a list of sections.  If anyone thinks my choice of terminology is unclear or just has a better suggestion, please speak up.  I know that my terminology doesn't quite match the node names used to implement the bits, but I think that is more a problem with the node names (which only we see). (:
&lt;/p&gt;&lt;p&gt;
Thanks, [Chady].  I changed your patch to &lt;code&gt;htmlcode( 'parsetime','', 'createtime' )&lt;/code&gt;.  This way we get the new timezone features.
&lt;/p&gt;&lt;p&gt;
Okay, back to my vacation for a while again.  Thanks for all of the patch everyone. :)
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[Chady], 2003-07-04&lt;br /&gt;
[valdez], notified [pmdev]ers about the nodes having the current time displayed on them. I submitted a [id://271458|patch]. The problem appeared after [superdoc title chooser] had been patched and &lt;code&gt;htmlcode( 'parsetimestamp', $NODE-&gt;{createtime} )&lt;/code&gt; had been changed to use &lt;code&gt;parsetime&lt;/code&gt; instead. I hope it's the right fix.&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;[belg4mit], 2003-04-04&lt;br /&gt;
With [tye]'s help I've submitted and had applied a few patches,
[User Settings] now collects all code settings in single location.
Inroads have been made to implementing optional forgoing of
the Sections links at the top of the page, and a patch to complete
this feature is pending. The patch includes two small fixes, one
for some typo of unknown origin (&lt;code&gt;&lt;tr&gt; ==&gt; &lt;/tr&gt;&lt;/code&gt;)
and another to remove the duplicate Large Code Font setting.
Once applied I'll announce the feature and include list some of
the sane config options (default: top list, no top, no top + Sections nodelet)
&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;[tye], 2003-07-03&lt;br /&gt;
Check your recent patches.  I've added review comments to some of them (and updated the description to start &quot;! &quot; if I think it shouldn't be applied or &quot;? &quot; if I'm sure of it).  I'll likely continue this practice in future.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[belg4mit], 2003-07-03&lt;br /&gt;
[valdez] I don't really think the [id://270894|&quot;refresh mode&quot;] is necessary...
It's very lazy (ungood kind), in most UAs you can simply select the Location/
Address and hit Enter. Besides, we might end up losing the occasional chance
to berate somebody in the CB :-P However, if such a thin were to be implemented
I think a better means would be to change the node title into a link to the
node itself. Cheers.
&lt;/p&gt;
&lt;p&gt;
Also, I've submitted a patch for [monktainer]
(en lieu of patching [montitlebar], to save a subroutine call).
This patch is part one of 2 (or 3) to implement a version of
what is discussed at [Creature Feep Payoff]. Instead of forcing
move to Sections nodelet, it will just be listed as a recommendation somewhere...
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-07-02 1627 CDT&lt;br /&gt;
Ah!  Okay, I didn't really check out the patch in full.  Thanks.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[tye], 2003-07-02&lt;br /&gt;
The patch [ar0n] did just means you can't fake the &quot;reply to&quot;/&quot;comment on&quot; code into doing most of the work for you.  You can still fake up a form that creates arbitrary replies.  That is one of the things I don't really like about the e2 security model.  *shrug*
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-07-02 1608 CDT&lt;br /&gt;
A short while ago, [Coruscate] posted a home node reply.  I have no problem with home node replies, I have several of them that I created before it was patched by [ar0n].&lt;/p&gt;
&lt;p&gt;[ar0n] patched [comment on] to prevent this from happening but [Coruscate] has found a way around that.  I'm curious how he did it since he doesn't have access to the source code.&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[valdez], 2003-07-02&lt;br /&gt;
I'm new to the [pmdev] group, so please forgive any error :) I just submitted a patch for [superdoc title chooser] to add a link 'refresh' just before &quot;( print w/ replies, xml )&quot;. The idea came from node [id://270837] and the patch can be found at [id://270894].&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[particle], 2003-07-02&lt;br /&gt;
i'm relatively new to the [pmdev] team, and i'm starting to get the hang of things now, i think. some time ago, i created a patch to add a bit of css magic, the &quot;attribution&quot; class, to the [shownote] node. here it is, for your review, [id://265185].&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-07-01
&lt;blockquote&gt;&lt;em&gt;
You might not be finding any when you search
&lt;/em&gt;&lt;/blockquote&gt;&lt;p&gt;
FYI, I wasn't searching for cases of &amp;#91; that weren't meant to be a link.  I did find some, but that wasn't what I was looking for at the time.
&lt;/p&gt;&lt;blockquote&gt;&lt;em&gt;
I'd consider 6607 (and any others like it) to be exceptions that could be fixed manually.
&lt;/em&gt;&lt;/blockquote&gt;&lt;p&gt;
Using [super search], I estimate there are between 800 and 2600 of these &quot;exceptions that could be fixed manually&quot; (divided by an unknown factor (looks to be 8 or less)  of how many hits were only for stuff inside CODE tags).  Have fun fixing 300 nodes by hand.
&lt;/p&gt;&lt;p&gt;
It also shows that there is an expectation that newline should work inside of bracket links.  I suspect that the number of cases you would have to track down and fix if we disallowed newlines would be no smaller than what you experience now.  The severity of the problem in each such case would, of course, be &lt;b&gt;much&lt;/b&gt; smaller.  So I haven't completely ruled out disallowing newlines in bracket links as a reasonable &quot;lesser of two evils&quot; solution.
&lt;/p&gt;&lt;p&gt;
However, I'd much rather have an even better solution.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[dws], 2003-07-01&lt;br/&gt;
I base my objection to \n inside of &amp;#091;&amp;#093; on the number of nodes that I've had to manually track down and fix after hearing somebody say &quot;Oops, [Seekers of Perl Wisdom|SoPW] is broken&quot; in the CB. It just too easy for someone to make an accidental post with a seemingly-dangling &amp;#091;, only to have the engine eat up a bunch of other stuff while attempting to create a link. You might not be finding any when you search because they've all been hunted down and killed. I'd consider 6607 (and any others like it) to be exceptions that could be fixed manually. Not allowing \n within a &amp;#091;&amp;#093; pair should be sufficient. I don't see any reason to impose any other length constraints.

&lt;p&gt;[tye], 2003-07-01&lt;br /&gt;
If you were in [gods], you could [super search] for nodes containing the regex &lt;code&gt;\[[^]\|]*\n&lt;/code&gt; (which is how to tell [super search] to tell MySQL to search for things &lt;code&gt;rlike '\\[[^]\\|]*\n'&lt;/code&gt; except with a literal &quot;\n&quot; in place of that &lt;code&gt;\n&lt;/code&gt;) which will find nodes containing &lt;code&gt;[&lt;/code&gt; followed by a newline prior to any &lt;code&gt;]&lt;/code&gt; or |.  The first match is [vroom] (in a HTML comment so you can't see the effect).  Then there are several that use this construct inside of CODE tags so they don't count.  Then we come to [id://6607] that has a newline in the &quot;Why don't my...&quot; link but the link still works perfectly.
&lt;/p&gt;&lt;p&gt;
Since I couldn't get past node 6607 without finding a working use of &lt;code&gt;[]&lt;/code&gt; with newlines, I don't consider forbidding newlines inside of &lt;code&gt;[]&lt;/code&gt; to be acceptable.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[tye], 2003-06-29&lt;br /&gt;
You want to rewrite all of the nodes that already contain newlines between square brackets?  I'd like to disallow newlines in square brackets but I don't think that will fly.  Perhaps only allow newlines after the | ?  That might work pretty well...
&lt;blockquote&gt;&lt;em&gt;
Why is &amp;#091; &amp;#093; handling this stupid?
&lt;/em&gt;&lt;/blockquote&gt;
Oh, so this is so &quot;stupid&quot;?  Then perhaps you'd like to give us the so-simple solution to exactly how to tell when square brackets are intentional or not?  What &lt;b&gt;is&lt;/b&gt; the maximum number of characters to allow?  I await the &lt;em&gt;obvious&lt;/em&gt; regex to use because I'm too stupid to figure it out myself. (No, I didn't have anything to do with the code in question.) q-:
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[VSarkiss], 2003-06-28 11:48 UTC&lt;br /&gt;
You could prevent &quot;runaway&quot; links like that by not allowing newlines
inside the brackets, methinks.
I can't think of a single good reason why you would want to allow them
(not to say there isn't one; maybe I'm missing something).&lt;/p&gt;
&lt;p&gt;
If I'm not mistaken, newlines are allowed because parseLinks in
[Everything/HTML.pm] has a &lt;code&gt;/s&lt;/code&gt; modifier on the regex
that handles it:
&lt;code&gt;$text =~ s/\[(.*?)\]/linkNodeTitle ($1, $NODE)/egs;
&lt;/code&gt;Changing the modifier to &lt;code&gt;/eg&lt;/code&gt; will disallow runaways,
but I'm not sure if it wlll have other unintended consequences.
Moreover, if this is the right way to fix it, then [gods] will have to
take over, because [pmdev] can't patch things in underlying Everything modules.
&lt;/p&gt;
&lt;p&gt;[dws], 2003-06-28&lt;br/&gt;
The next time someone gets the urge to look at parsing issues, here's one that just came up. The original node included the line
&lt;code&gt;
  &quot;syntax error at ./splittest.pl line 4, near &quot;)[&quot;&quot; 
&lt;/code&gt;
outside of a code block. This resulting in a very, very long link that included the lines below it (until  a matching '&amp;#093;' was found. This threw the formatting in [Seekers of Perl Wisdom] &lt;i&gt;way&lt;/i&gt; off, essentially destroying the page. Changing the line to
&lt;code&gt;
  &quot;syntax error at ./splittest.pl line 4, near &quot;)&amp;#091;&quot;&quot; 
&lt;/code&gt;
fixed things, as expected. Why is &amp;#091; &amp;#093; handling this stupid?
&lt;hr/&gt;
&lt;p&gt;[belg4mit] 2003-06-28&lt;br /&gt;
&lt;p&gt;&lt;b&gt;UPDATE&lt;/b&gt;: Some of the links below are incorrect, the text may be hard to follow as well, if so see [id://269815].&lt;/p&gt;
I was just looking into implementing my suggestion in [Creature Feep Payoff].
It turns out the relevant bit is [id://1052|Sections]. this is actually already a nodelet,
so it would be easy to add it to the [id://25185|Nodelets Settings]. However, it got me tthinking, and I stumbled across something that I'd forgotten about...
[id://1041|sidebar] is nearly identical to [id://1052|Sections], and I wonder what others think
anout superceding [id://1052|Sections] with [id://1041|sidebar]. ie; no longer run [id://1052|Sections],
and have [id://1041|sidebar] on by default, then people can edit at will as they
normally would/can. No muss no fuss. And without sections the added height,
if one placed the sections nodelet at the top of one's list it would still might accessible. IMHO this would have a few other advantages. Sections is not right-justified to the width of Nodelets and this can often be ugly. It
would also allow tha attribution and laternate mode views to be on the
same line more often by providing more width.
&lt;/p&gt;
&lt;p&gt;[crazyinsomniac], 2003-06-26 22:52 PDT&lt;br /&gt;
&lt;blockquote&gt;&lt;i&gt;
What about documentation?  Not our job
&lt;/i&gt;&lt;/blockquote&gt;
It is our job exactly.
Remember [id://136993].
I really liked the idea, I asked about, I implemented it, I documented it, 
and then I announced it.
The documentation is right where the settings is.
It is also in the announcement.
It is the job of the [Site Doc Clan] to put it in the appropriate spot.
Someone has to announce it, generally the writer of the patch,
and the announcement should be the manual.
&lt;blockquote&gt;&lt;i&gt;
How do we create a new setting? 
&lt;/i&gt;&lt;/blockquote&gt;
You edit [user settings], and simply add it (like &lt;code&gt;[{setvar:notedepth}]&lt;/code&gt;).
When the user edits his settings and hits submit, the
setting will automagically spring into existence.
I believe The Everything Bible covers this someplace 
(i'll look for a link, I haven't looked at the bible in a while).
&lt;P&gt;
[http://everydevel.com/index.pl?node=Globals%3A%20USER&amp;lastnode_id=486|Globals: User] says &lt;i&gt;setVars(), used to update settings from 'user settings' &lt;/i&gt;, so you just need to look it up in the .pm's.
Which bring me to an issue I have with Everything -- no pod ,
but the style is fairly consistant.

&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[theorbtwo], 2003-06-26&lt;br /&gt;
Noddage about the wiki stuff, and the code sections -- I'd love to help with the later problem, but I frankly don't think I can -- it's administrative, not codey.&lt;/p&gt;
&lt;p&gt;Anyway, the main point of writing this has nothing to do with that -- the idea is to be a short &quot;how to write a patch&quot; HOWTO.  It's prompted by [Creature Feep Payoff], and goes over how I'd attack the problem.  But mostly, it's a call for corrections -- most of my patches seem to not be accepted, and a fair number end up containing errors of one sort or another.&lt;/p&gt;
&lt;p&gt;Anyway, the request is for a way to turn off, via a [user setting|user settings], the links at the top of every page.  So I went to [search internal code] (linked to from the pmdev nodelet), and decided on a string that was in there that wouldn't be too common.  So I did a &quot;search internal code&quot; for &quot;Offering Plate&quot;.  That gave me three hits, [offering plate], [The Monastery Gates], and [monktitlebar].  Which one is our target here is pretty obvious.  
&lt;/p&gt;
&lt;p&gt;Take a look at [monktitlebar].  It's just straight Perl code, nothing fancy.
Looks, in fact, like we can just put the whole thing in an if.  But what's the condition?  Well, I know Everything well enough to know the answer.  But lets assume I didn't.  Well, if you look through the code carefuly, there's already somthing option-dependant in there: the [PerlMonks FAQ|Need Help???] link is conditional on &lt;code&gt;$VARS-&gt;{hintsoff}&lt;/code&gt;, so $VARS must be a hashref containing user options -- which is exactly what it is.  So, the conditional on the big if should be a different setting, lets call it &lt;code&gt;$VARS-&gt;{linksontopofpageoff}&lt;/code&gt;.  How do we create a new setting?  Well, it autovivs... to undef, which is why we want undef to be a reasonable default, which is why I named the setting ...off.  (Of course, we need to make the test an unless instead of an if, or negate the test.  Pick your favorite.)
&lt;p&gt;Well, how do we let people change it, then?  If we were good, we'd write a patch to [user settings] and add the setting there.  What about documentation?  Not our job, [site doc clan] should handle it.  (/msg them after your patch is applied, though, if it has user-visable changes.  If changes are large, write a [perl monks discussion].)&lt;/p&gt;
&lt;p&gt;So just make the edits in the text box, hit submit, and read carefuly the patch.  Then hit the &quot;view code&quot; link in the pmdev nodelet, and reread the code as patched.  Then download it, and try checking for errors with perl -c.
&lt;/p&gt;
&lt;p&gt;Oh, just one more note: [tye] prefers code with what I consider odd spacing: &lt;code&gt;if ( $VARS-&gt;{linksontopofpageoff} ) { ... }&lt;/code&gt;.  In general, parenthesies should have spaces at the beginning and end of their insides (and not before: &lt;code&gt;function( arg, arg )&lt;/code&gt;.  Also, like most people, &lt;code&gt;$hr-&gt;{key}&lt;/code&gt;, not &lt;code&gt;$$hr{key}&lt;/code&gt; (the later occours often in PM code, but the former is prefered).  Use CGI methods (Or [Everthing/HTML.pm]) ) to generate HTML, not literal strings, except in trivial cases.  The CGI object is $q ($query is a depreciated name for it).&lt;/p&gt;
&lt;p&gt;Comments on this walkthrough?  Things I missed that'd make it unappliable?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-06-24&lt;br /&gt;
I think a wiki component of the site reduces the focus.  We don't even have a decent code archiving section yet (just 5 lousy ones).  I don't think the (poor) site admin structure matches what you'd want for building a wiki site.  I think a Perl wiki would be a fine idea, but as a new site.
&lt;/p&gt;&lt;p&gt;
As for Opera not liking [super search], feel free to debug the problem (which probably doesn't even require [pmdev] access -- set up a proxy to see what the browser is sending in the broken cases).
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[crazyinsomniac], 2003-06-24 06:55 PDT&lt;br /&gt;
I'm aware of how wiki's work, my point was that there would be no &quot;wiki section&quot;.
&lt;p&gt;
wikid:// would poke you in the eye (
lol, I guess a synonim for id://? nevermind /duck)
... yeah, all that, all that, but what's the managment say?
&lt;P&gt;
Now that I think about it, let's call our Wiki Wikid? (It's a Wicked Wickid Wiki)
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[theorbtwo], 2003-06-24 05:52 EST&lt;br /&gt;
AFAIK, a wiki is a collection of nodes.  Each node is editable by anybody (where anybody can mean just about anything, but is almost always wider then &quot;site admins and the creator&quot;).  Edits are tracked by a RCS of some sort, which often just tracks user, title of edit, and time.&lt;/p&gt;
&lt;p&gt;You're right about not needing replies, but the existing wiki nodetype isn't quite right.  First off, it doesn't have any sort of RCS.  Anybody with edit permisions can just wipe the thing out, with no sort of tracking.  The logs will list who did it (but only for [gods]), and force the [gods] to go trasping through the site backups to restore the content, which is somthing of a PITA.  (The backups aren't within the domain of Everything, so I don't know how much of a PITA it is.)  Most importantly for this kind of use, there's no provision for normal people to create new wiki nodes, which makes content difficult to manage.  Even on a blog sort of thing like this, we eventualy get a very long node, which is cumbersome.  Thoughts aren't sepperated out cleanly.  Now imagine this with dozens to thousands of different people, with lots more diverse subjects, etc, etc.&lt;/p&gt;
&lt;p&gt;
I think we need RCS and new node creation to be easier, which points me to a new section, with a nodetype (one similar to, but not the same as, [wiki] (&quot;userwiki?&quot;), and co-opting the patch system for use as an RCS for userwiki nodes.&lt;/p&gt;
&lt;p&gt;
Much less importantly, wikis usualy have links to missing nodes give an edit page, and links automaticly generated when using StudlyCaps.  I think we can just ignore those features.  Oh, and what would wikiid:// do?  Were you thinking of grafting a completely sepperate system onto the side of Everything?
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[crazyinsomniac], 2003-06-24  02:22 PDT&lt;br /&gt;
Firstly
[id://68046], 
[wiki display page],
[wiki edit page], [id://68293].
&lt;p&gt;
Now, a Wiki does not have replies, or sections (it's not a place for discussion, it's a place to collaboratively manage info).
&lt;p&gt;
How it would work instead of a section,
there would just be a link(in the sections links up on top)
that says something like [Perl Wiki]
which would take you to a wiki just like this one.
That would be tantamount to a front page, and may or may not
be editable only by wiki admins.
&lt;p&gt;
Yes &lt;code&gt;[wiki://] and [wikid://]&lt;/code&gt; would make sense.
&lt;p&gt;
What patch tools are you talking about?  From what I can tell about the [wiki] nodetype there is no revision control.
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[theorbtwo], 2003-06-24 01:24&lt;br/&gt;
Has anybody looked at what making a wiki section here would entail?  AFAICS, it means making a new section or two (one for roots and one for replies) where anybody can write a patch, and to show more info on patches, then fixing up the patch tools slightly such that they check for permissions on the underling node-type, and check it for auto-application of patches (or perhaps a new settings node).  Seems like a fair bit of work, but none of it impossible by any means.  Oh, and a new linktype, wiki://, that only links to wiki nodes.  I'm wondering what the oppinion is; should I start looking at how to do this work?
&lt;/p&gt;
&lt;p&gt;And in either case, what does [gods|The Management] want from it's [pmdev]ils; what can we do to make the monestery a better place?
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[crazyinsomniac], 2003-06-18  04:42:57&lt;br /&gt;
Is [pmdev] aware that the Opera browser doesn't like [Super Search]
(trying to search only &quot;PM discussions&quot; for example, doesn't work on Opera -- it'll search all sections -- [castaway] pointed this out today)?
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-06-04&lt;br /&gt;
Doing it as a *user* display page is a good short-term solution.
&lt;/p&gt;&lt;p&gt;
No, when scratchpads are seperate nodes, the normal edit and display tools will be used. The extra bit that will be needed is code to create a scratchpad if (and only if) there isn't one already (and the scratchpad display page will have to not show anything if someone else's scratchpad isn't public).
&lt;/p&gt;&lt;p&gt;
Another trick would be if we wanted to prevent people from using CGI hacks to change the title of their scratch pad.  But I think we'll just let them set the title (either by putting that right on the form or just letting those who figure out how to do it brag about it). *shrug*
&lt;/p&gt;&lt;hr /&gt;

&lt;p&gt;[theorbtwo], 2003-06-05 5:21 PM EST&lt;br /&gt;
Not providing that in the first place was stupid on my part, indeed... at least this time my perl wasn't full of syntax errors, sigh.  It seems to me that all that's needed to make this work, however, is a user displaycode page, along the lines of [document displaycode page] (as patched, preferably), except with &lt;code&gt;s/doctext/scratchpad/;&lt;/code&gt; (and properly set up to work as a display page of [user] -- IE with pagetype [id://15].&lt;/p&gt;
&lt;p&gt;I quite agree that scratchpads should be sepperate nodes... but that requires either completely new edit tools, divorced from the normal node editing scheme, or it requires changes to Everything's permission system, since permissions are set per nodetype, not per node.&lt;/p&gt;
&lt;p&gt;If you want, [tye], I can work on those tools (that tool?), instead of doing it this way.&lt;/p&gt;
&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;[tye], 2003-06-04&lt;br /&gt;
Those two &quot;downloadcode for scratchpad&quot; patches manage to successfully determine if a scratchpad contains &lt;code&gt;&lt;code&gt;&lt;/code&gt; and show the link if that is the case.  But you have to make displaytype=&gt;displaycode actually work for a scratchpad, which also requires that you pass the owner's user_id in the link created by [downloadcode].  So your patches aren't of much use as they stand.
&lt;/p&gt;&lt;p&gt;
We need to move the scratchpad text out of the [user] table (for efficiency if nothing else) so I'm not really gung ho on working around this problem instead of solving it by making scratchpads real nodes.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[theorbtwo], 2003-05-30 6:52 PM EST&lt;br /&gt;
Two things: First off, did you notice the (*) next to [patch lister] in the [pmdev nodelet]?  It will appear whenever there are new patches (but not when a patch is newly installed or edited).  (It will appear initialy for everyone, since your last visit (never) is before the last patch's id.)&lt;/p&gt;
&lt;p&gt;Secondly, I'm thinking of writing Yet Another Patch, this one a node spell-checker and link-checker.  Doing this, however, would mean a lot of additional CPU load on the web (not DB!) server, as well as installing some modules and real software...&lt;/p&gt;
&lt;p&gt;Thirdly, I want to put a big &quot;This is a preview, don't forget to hit Submit!&quot; on the [preview] page, because I find myself forgetting to hit submit too much.
&lt;/p&gt;
&lt;p&gt;Fourthly, [id://249348|the damn quips patch] is ready to be applied.&lt;/p&gt;
&lt;p&gt;Fiftly, did I say two things above?&lt;/p&gt;
&lt;p&gt;Sixthly, [tye], please let us know when you've got peliminary plans for the cache?&lt;/p&gt;
&lt;p&gt;Seventhly, (isn't that a fun word?) should the title of a patch node be based on the reason as well as the node being patched?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-05-30 1210 CDT&lt;br /&gt;
I have submitted a [id://261894|patch] for [id://1072] that adds a help link to [id://17642].&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-05-24 1101 CDT&lt;br /&gt;
[Anonymous Monk] pointed out that code wrap affects both the display and print views.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-05-13&lt;br /&gt;
Rework the &lt;strike&gt;whole structure of&lt;/strike&gt;loop in the code to use &quot;limit $start,10&quot; instead.  I still worry that &quot;limit 10000,10&quot; requires SQL to sort the whole list and count off 10,000 nodes and this might be a bit of load.  An even better alternative would be to change the implementation of the interface so instead of next=10 you specify start_id=259046 so SQL can quickly start at the proper node.
&lt;/p&gt;&lt;p&gt;
Simply removing &quot;limit 300&quot; from the existing code (even optionally) is a really bad idea, IMHO.  The DB server is already getting overloaded again.  Popularity-- (:
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[VSarkiss] May 13, 2003 at 08:36 GMT+8 &lt;br /&gt;
I had a brief discussion with [tilly] regarding his /msg about [Meditations] not going back any earlier than about December 2002 (as I write this).  I pointed it comes from the &quot;limit 300&quot; in [newlistapproved], and applies to all moderatable sections (SOPW, PMD, etc.)  I also suggested he use regular or super search for going back further in time.  He asked about the reason for the limit, and whether it could be overridden, since he couldn't always think of enough search terms -- sometimes  you just want to be able to scan.  My guess is that the limit is to keep down DB load, and as the code stands, no, it can't be overridden.&lt;/p&gt;
&lt;p&gt;This led to a discussion of whether we could provide a way to override the limit.  I thought it might be something in [user settings], [tilly] suggested just a checkbox or something on the page itself.  I also suggested only allowing the override if one is above level X (for some X &gt; 1); the idea being -- sometimes true, sometimes not -- that an old-timer is more likely to use the capability responsibly.  Sort of like the throttle in [Super Search].&lt;/p&gt;
&lt;p&gt;Any thoughts from others on whether/how to do this?  Does it deserve a PMD post? (Personally, I don't think so, but I could be convinced otherwise.)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Aristotle],2003-05-12 15:17 server time&lt;br /&gt;
I have seen this before, too. It only shows up intermittently. Sometimes not only the links go missing, but the search bar as well.
&lt;/p&gt;
&lt;p&gt;[Mr. Muskrat], 2003-05-12 1330 CDT&lt;br /&gt;
After seeing [tilly]'s message to [pmdev], I asked him for more details.&lt;/p&gt;
&lt;p&gt;[tilly] says:&lt;br /&gt;
Node 6364. I got there by clicking on the appropriate link from my own home page.&lt;br /&gt;Mozilla running on Red Hat's version of Linux.  It does not happen every time. :-(&lt;br /&gt;And the page was a red herring as well. It just happened on this page to me. :-(&lt;/p&gt;
&lt;p&gt;Perhaps a race condition?  /me shrugs...&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-05-07&lt;br /&gt;
I shortened some long lines in [id://255401], [demerphq].  One problem I noticed is that you shouldn't be showing any vars for node types that don't have such.  As for making some [setting] nodes world readable, Everything doesn't support that.  You could make a case for all settings being world readable, but instead we usually provide a superdoc that presents the settings in a nicer format for the ones that should be seen. And there are a few settings that should *not* be public (and many that just don't make sense if you aren't in [pmdev]).
&lt;/p&gt;&lt;p&gt;
I think a better test for letting XML expose settings would be, for user nodes, only expose them if you are allowed to modify that user (so [gods] see all and anonymonk can't see own), for other nodes, expose settings if settings are present and user can view node (well, they can't see the XML view of the node unless they can view the node; otherwise I'd add a list of setting nodes that are public just for the XML view).
&lt;/p&gt;&lt;p&gt;
The &quot;release&quot; feature was discussed in public, [crazyinsomniac], I don't recall where (though at least *some* of the discussion is in this very wiki).
&lt;/p&gt;&lt;p&gt;
Though this chunk of the wiki is now around 36kB.  Anyone with one of those &quot;broken&quot; browsers care to see if us now using enctype=&quot;multipart/form-data&quot; means that the 32kB limit is no more?  (though only if you save the full wiki and have a &quot;working&quot; browser handy so you can restore it after your test).
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[crazyinsomniac], 2002-05-07 07:44:13 GMT&lt;br /&gt;
What's this &lt;B&gt;release_patch&lt;/b&gt; thing on the [patch display page]?
Apparently it lets [pmdev] take ownership of the patch, and makes a note of whom it was originally submitted by.  Example: [id://240370]. This looks fairly new.
&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;[demerphq], 2003-05-04 02:00 GMT+1&lt;br /&gt;
Ok, ive created a  [id://255401|patch] to add the $NODE vars to the xml displaytype output. The thing about this patch is deciding what nodes it holds for and who should see what. I don't know the system well enough to be confident that my choice was right. The point in the code is marked. My logic was that settings that people have permissions to view should be displayed, homenodes should be displayed for their owners (is this how to get user settings in xml form?), and non-homenodes should be visible only to [pmdev]. I did my best to test it, but obviously its a bit hard.&lt;/p&gt;
&lt;p&gt;On that note - I downloaded the XML::Fling and XML::Fling::Array and faked all the rest of the subroutines before I started. Once I had done that it does compile at least. I did have some trouble getting XML::Fling to install properly though. I ended up having to patch it to have XML::Fling::Export hand register itself into %INC. (Otherwise the import fails when it requires XML::Fling::Exporter.) Adding
&lt;code&gt;
$INC{&quot;XML/Fling/Export.pm&quot;}=__FILE__;
&lt;/code&gt;
and the like at the appropriate places solved things. (BTW whats with the games with require?) There was also a problem with XML::Fling::Array where there were a few $#avVal instead of the apparently correct $#$avVal. 
&lt;/p&gt;
&lt;p&gt;
As a last point it turns out that [level titles] and [level settings] are restricted access. It would be nice if these would be opened up as they are useful nodes and already publicly visible embedded in other pages. Anyway, this was a nice diversion. :-) 
&lt;/p&gt;
&lt;p&gt;[demerphq], 2003-05-03 22:54 GMT+1&lt;br /&gt;
I've been hacking together a .NET PM client as a learning exercise for some upcoming work. One thing I wanted to do was grab the [level titles] from the site instead of storing them as strings. Now, I can and will extract this information by parsing the HTML returned from &lt;code&gt;displaytype=print&lt;/code&gt;, but I was a little suprised when I viewed the node with &lt;code&gt;displaytype=xml&lt;/code&gt; had no useful content beside the owners Id and some stuff like that. As part of this I've been extracting XML schemas for the feeds and if anybody is interested I will post them. Anyway, this isnt a feature request or anything, just a heads up for anybody looking at the XML tickers and the XML displaytype. (If this should have been a PMD then /msg me and i'll move it :-)
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Chady], 2003-04-29 09:35 GMT-2&lt;br /&gt;
Thanx [tye] for your reply. I updated the [id://245893|patch] into what I think should run now.&lt;/p&gt;
&lt;p&gt;One possible scenario where this might fail is the following:&lt;br /&gt;
If the node I'm attempting to remove is a NodeTitle in my personal nodelet, and I supply &amp;amp;removepersonalnodelet=NODEID while I'm not in the node in question, but instead I'm standing in another node that is also in my personal nodelet, I will remove the node I'm standing in, and not the node I supplied the NODEID for.&lt;br /&gt;
But I doubt this could happen.
&lt;/p&gt;
&lt;p&gt;[tye], 2003-04-28&lt;br /&gt;
getId() won't give you the ID of a node given the title.  You'll have to compare the current node title for that case.
&lt;/p&gt;&lt;p&gt;
Changing $VARS will change the user's settings when/if updateNode($USER,$USER) gets called, I think.  I suspect that gets called somewhere as doing that explicitly in some places (which would make sense) has caused problems where the user settings get cleared.  But I never tracked down exactly who was calling that and why.  But those must get updated otherwise the original code would not add items to the personal nodelet.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[Chady], 203-04-28 8:07PM ~&lt;br /&gt;
Can someone please check [id://245893] and tell me if it works like that?, like; does changing $VARS-&gt;{personal_nodelet} work that way?.&lt;br /&gt;
I've posted this almost a month ago, and no one commented on it. I would just like to know if the patch is OK or if I misunderstood the whole concept of that node.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-04-28 0946 CDT&lt;br /&gt;
I apologize for missing the '#Submitted by Mr. Muskrat' in my patch of [id://71130] and for not using the users settings in my other two patches.  I will fix them up today if time permits, otherwise it will be tomorrow.  It's a good thing that we have the [gods] to double check our work.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-04-28&lt;br /&gt;
For now, if you release a patch to [pmdev] that contains HTML rather than just code, please chang &quot;#Submitted by Mr. Musckrat&quot; to &quot;&amp;lt;!--Submitted by Mr. Muskrat--&amp;gt;&quot; after you do so.  Thanks.
&lt;/p&gt;&lt;p&gt;
Please only skip reaped nodes if the user setting for that is set appropriately.  Don't hard-code the node ID of the reaper, use %HTMLVARS.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-04-28 0855 CDT&lt;br /&gt;
Released [id://253695] in response to [benn]'s /msg to [pmdev].  I did not archive the msg since the patch hasn't been applied yet.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[demerphq], 2003-04-27 16:08&lt;br /&gt;
If you check 'nodes=81921,87392,85222' at the [http://www.perlmonks.org/index.pl?node_id=37150&amp;nodes=81921,87392,85222|XML Node Query Ticker] you will see that the  returned nodes have two different types of date in the 'lastupdate' attribute, one (the home node) looks like '2001-06-26 08:55:22' and the other two like '20030407135952'.  Just thought I should mention it if anybody happens to be looking around the code responsible.
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-04-26 1104 CDT&lt;br /&gt;
I have submitted two patches ([id://253377] and [id://253378]).  They should remove reaped reviews from the [id://23304] and [id://30794].  As always, triple check my work. :-)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-04-22&lt;br /&gt;
It was approved to a section other than the one it was in (and front-paged).  I unapproved it and then reapproved it.  There are race conditions and worse in the approval process.  These are in the to-do wiki already, I think.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[VSarkiss], 2003-04-22 7:31 GMT+8&lt;br /&gt;
Just noticed something odd: the [Approval Nodelet] on [id://252134] doesn't have a frontpage checkbox, and it doesn't say who it was approved by.  What's different about that node?  I'm just curious because I can't follow all the logic in [Approval Nodelet]....&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[JayBonci], 2003-04-08&lt;br /&gt;
Why would you want to patch updateinterval in [nodelet display page]. It's not like it'd change much or we'd need to keep a huge log of changes. If it did change, it's something that could simply be added to the comments. No need to &quot;patch&quot; it, IMO.
&lt;/p&gt;
&lt;hr /&gt;


&lt;p&gt;[VSarkiss], 2002-04-02 13:45 GMT+8&lt;br /&gt;
&lt;i&gt;[VSarkiss] looks in the mirror.&lt;/i&gt;&lt;br /&gt;
&quot;Did you test that the patched code would compile?&quot;&lt;br /&gt;
&quot;Yes! Yes, I did.&quot;&lt;br /&gt;
&quot;Did you make sure you were testing your patched version and not the original?&quot;&lt;br /&gt;
&lt;i&gt;[VSarkiss] looks at own feet and mumbles something inaudible.&lt;/i&gt;&lt;/br /&gt;
&quot;Can I trust you to test the right one this time?&quot;&lt;br /&gt;
&lt;i&gt;[VSarkiss] nods while still looking down and shuffling nervously.&lt;/i&gt;&lt;br/&gt;
(Stolen from Jarkko Hietaniemi)&lt;br /&gt;&lt;br /&gt;
Thank you for the feedback, [tye].  I edited [id://247380|the patch] and made the changes you suggested.  Please take another look.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-04-01&lt;br /&gt;
Please test your patches to make sure they will compile as outlined previously.  You had a couple of extra commas.  I fixed them, but then I didn't like the look of the page and backed the patch out.  The full 2 sets of date/time were too wide and dominated the table.  I'd probably like it better with just the date (in standard YYYY-MM-DD format) for &quot;user since&quot; and just [timesince] output for &quot;last here&quot;.  Thanks for the work.  I like the idea.  I've got to run to bed.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[VSarkiss], 2003-04-01 15:59 GMT+8 (no foolin')&lt;br /&gt;
Submitted [id://247380|a patch] for [Saints in our book].  The &quot;rank&quot; and &quot;level&quot; columns just repeat, so I put &quot;User since&quot; and &quot;Last here&quot; in there instead.  The query shouldn't put extra stress on the db, and I'm hoping formatting the dates will not be a big deal either.  Critique, comments, etc., welcome.
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Chady], 2003 March,26 12:47 GMT-2&lt;br /&gt;
Submitted a patch for [personal nodelet] ([id://245893]) for the To-Do item in 2003-03-25.&lt;br /&gt;
Can someone please check it and tell me if it works like that? or does it need to use an opcode? (i.e. does changing &lt;code&gt;$VARS-&gt;{personal_nodelet}&lt;/code&gt; reflect that change in the db or do I need to do it another way?)
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Aristotle], 2003-03-25 21:57 server time&lt;br /&gt;
I thought it would be neat if I could quickly bookmark nodes in an easier fashion than &quot;add to scratchpad&quot; and &quot;add to personal nodelet&quot;, both of which require bringing up another page and fiddling with forms to remove the link. Not a very comfortable procedure. /msg's on the other hand are very easy to keep in order, hence [id://245847].
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[larsen], 2003-03-22 15:03:27 UTC&lt;br /&gt;
I've submitted a patch for [Node Lister]: maybe a direct link to code foreach node is useful. Changed &lt;code&gt;$query&lt;/code&gt; to &lt;code&gt;$q&lt;/code&gt;, too (should I submit two patches in these cases?). It seems that cut&amp;amp;past-ing from my editor produced some mess at the beginning of the patch. Strange: it's the first time it happens, and it's not the first time I submit a patch. Anyway, sorry.
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-03-22&lt;br /&gt;
I'd like to encourage [gods] to &lt;b&gt;not&lt;/b&gt; apply all of the $ENV{SCRIPT_NAME} patches yet.  I'd like to see a select few applied to give us a week or so to listen for fringe browsers having problems due to that change.  Otherwise I'd have applied the patch to [openform] sooner.  I haven't had time to find a good guinea pig form and adjust it.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt; [boo_radley], 2003-03-21 8:09 PM MTN &lt;br /&gt;
Corrected [SiteDocClan nodelet] to have parent container= Nodelet Container.
It, uh, looked odd without it.
&lt;/p&gt;
&lt;p&gt;[theorbtwo], 2003-03-21 8:01 PM EST&lt;br /&gt;
My basic POV is that nodes should generaly be documented with comments at the top.  I tried to sneek that in before, but the node I was commenting on was trivial anyway.  In the case of dead code, a &lt;code&gt;#DEAD, replaced by [id://nnnn]&lt;/code&gt; is quite sufficent.  In non-dead code, I'd like to see at least a description of the expected semantics of the parameters and the output.  (Where input can mean both command-line parameters and expected globals.)
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Aristotle], 2003-03-21 19:34 server time&lt;br /&gt;
Sorry for the flood of patches &lt;tt&gt;:)&lt;/tt&gt;, I had an idle moment and thought I'd fix this triviality. I changed most everything my &lt;a href=&quot;?node_id=157620;searchterms=SCRIPT_NAME&quot;&gt;search on &lt;tt&gt;SCRIPT_NAME&lt;/tt&gt;&lt;/a&gt; gave me, but don't have permission for [id://1066] and [id://160900]. I know a bunch of my patches target dead code, but decided to submit them anyway for consistency.
&lt;/p&gt;&lt;p&gt;Which raises a point I've pondered before: what do we do about dead code? I think it should at least be marked as such. I remember an occasion or two before where people spent a noteworthy amount of effort working on a patch only to be told it was dead code. Certainly (and fortunately) it doesn't happen a lot, but unlike my effort which was basically drone work, I can imagine the chagrin of whoever has the experience when it does happen. I also think it would make the Joe Random [pmdev]'s life easier in general to know what code is dead without having to find out the infuriating way. Simply renaming the nodes to be titled &quot;DEAD: foo&quot; would probably be enough of a convention.
&lt;/p&gt;&lt;p&gt;Comments?
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-03-21 1713 CST&lt;br /&gt;
I found a linkNode bug in the [SiteDocClan nodelet].  &lt;code&gt;Undefined subroutine &amp;Everything::HTML::getID called at (eval 1590) line 3.&lt;/code&gt; I have submitted [id://245030] &amp; [id://245077].  Two possible fixes for this error. &lt;b&gt;Thank you!&lt;/b&gt;&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-03-21 1610 CST&lt;br /&gt;
Okay, I missed [id://25180] but I submitted [id://245018] a minute ago.  Am I missing anything else?&lt;br /&gt;&lt;b&gt;Added 30 minutes later&lt;/b&gt;: Yep!  I was missing [id://142] but here is [id://245023].&lt;b&gt;Thanks!&lt;/b&gt;&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-03-21 1521 CST&lt;br /&gt;
I've submitted [id://245005] and [id://245011].  Please triple check me before applying. :-) &lt;b&gt;Thanks!&lt;/b&gt;&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[tye], 2003-03-21&lt;br /&gt;
So patch [SiteDocClan nodelet] and patch the stuff that lets them add that to their nodelet list (let me know if you can't find it).
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-03-21 1355 CST&lt;br /&gt;
I'm working on a [SiteDocClan] nodelet as mentioned in [id://240052].  I'm using the [id://160734] code as a starting point.  [Louis_Wu] has suggested that it should have links to [Perlmonks FAQ], [SDC Master Plan Wiki], [SDC Inbox], [Site Documentation Clan Wiki], [sdc to-do wiki] and [id://108949].  [boo_radley] wants a link to the &quot;Create a new FAQlet&quot; script.  Does anyone have any suggestions for this project?&lt;/p&gt;
&lt;p&gt;The code as it stands now:&lt;br /&gt;
&lt;code&gt;[%
  my $msgs = htmlcode( 'toInbox','', 'SiteDocClan', '&lt;b&gt;%d&lt;/b&gt;[/msgs]', '/msgs' );
  my $faq  = linkNode( 237040, getID(237040) );  # Perlmonks FAQ
  my $plan = htmlcode( 'linkWiki', 'SDC Master Plan Wiki', 'SDC&amp;nbsp;Master&amp;nbsp;Plan&amp;nbsp;Wiki', '(*)');
  my $wiki = htmlcode( 'linkWiki', 'Site Documentation Clan Wiki', 'Site&amp;nbsp;Documentation&amp;nbsp;Clan&amp;nbsp;Wiki', '(*)');
  my $todo = htmlcode( 'linkWiki', 'sdc to-do wiki', 'sdc&amp;nbsp;to-do&amp;nbsp;wiki', '(*)');
  my $pad  = linkNode( 108949, getID(108949) );  # Scratchpad Viewer
  
  return &lt;&lt;END;
  $msgs
  | $faq
  | $plan
  | $wiki
  | $todo
  | $pad
END
%]&lt;/code&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[jaybonci], 2003-03-21&lt;br /&gt;
[Raise anything] caveats:
&lt;ul&gt;&lt;li&gt;If you have typeversioning in place, you will need to reboot the webserver if you raise a nodetype. Even if you don't, it's a really good idea to do so. Reinserting the type may poison the nodecache.&lt;/li&gt;&lt;li&gt;Inserting anything that extends nodegroup needs to be done with the nodegroup going in first, then it's child entities need to be raised.  The other way around may leave the entities stranded.&lt;/li&gt;&lt;li&gt;Deleting items that do not have on-table info (such as anything that looks at the vote table), may have their cached data (reputation) reset if the rep calculation is based on an absolute sum inside of vote, rather than simply ref-counting&lt;/li&gt;&lt;li&gt;If you see &quot;Can't get node prototype&quot;, then that means you missed getting the item out of the tomb.&lt;/li&gt;&lt;li&gt;Inserting dbtables will not fix the dbtable, nor will any other special node like that work as you might expect.&lt;/li&gt;&lt;/ul&gt;
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[tye], 2003-03-19&lt;br /&gt;
I shortened one line of your patch, [larsen], did s/$query/$q/g to it, used $q-&gt;escapeHTML(), then applied it.  Thanks.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-03-17 15:12 CST&lt;br /&gt;
I have updated [id://243041] to incorporate the changes [tye] suggested.  You should of course double check me to ensure that I haven't messed it up in the process. ;-)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-03-15 &lt;br /&gt;
givevotes is not used.  nick is.
&lt;/p&gt;&lt;p&gt;
I don't think the &quot;field=value&quot; format is well suited for multi-line data and nodes &lt;b&gt;can&lt;/b&gt; (and some even do) have &quot;\0&quot; in them (yes, a null byte is allowed).  And I much prefer a nice looking text-only format for the alternate chatter ticker.
&lt;/p&gt;&lt;p&gt;
Here are tons of code review on the [openform] patch (that cover both the changes and the original, unpatched code).
&lt;/p&gt;&lt;p&gt;
Do you look at the patch after you hit 'submit', [theorbtwo]?
Would a few newlines in the comment be some kind of problem? (:  I strongly prefer the internal code to fit in 79 columns.
&lt;/p&gt;&lt;p&gt;
I left the &quot;submitted by&quot; comment [JayBonci] proposed (it does address a valid point) but I agree that it might be more problems than it is worth.  I think I'm more interested in tracking 'last edit by' over 'originally submitted by', but this is starting to sound like it is getting out of hand.  I don't want to start listing 4 &quot;owners&quot; for each patch (owned by, created by, last edit by, last applied by) so I think some time to settle in is in order.  For now, I say let's put such details in comments and &lt;b&gt;purge&lt;/b&gt; them when writing a new patch (we don't need a running list of patches inside the code as we have a better system for that already).
&lt;/p&gt;&lt;p&gt;
The comments look to me like comments for the sake of having comments.  I don't see that they help.  The node is called &quot;openform&quot; which I think makes its purpose rather clear.  I can tell that it takes no arguments a lot faster by looking at the first line of code than I can by reading English comments.  &quot;If you need GET, roll your own&quot; is begging to become out-of-date and mislead people when we add a &quot;openGETform&quot; node.  Repeating the patch information in the code is another example of information duplication that I'd rather avoid.  It is an [htmlcode] node so it returns HTML.  Why should we call out that it uses $NODE but not mention $query?  I'd rather trust what the code itself says that it uses.
&lt;/p&gt;&lt;p&gt;
It is 3 quite simple function calls.  How much English text you want to throw at that?  If we really have people who have any kind of trouble figuring that code out without an English explanation, then they probably shouldn't be working on the code.
&lt;/p&gt;&lt;p&gt;
Please save comments for interesting things and place them close to the relevent part of the code so that they are more likely to stay up-to-date.  For example, a comment before the last two lines like &quot;Submitting should return to the same node and displaytype&quot; would be more reasonable, but not required IMHO.
&lt;/p&gt;&lt;p&gt;
Me, [Petruchio], and [ar0n] standardized on $q over $query.
&lt;/p&gt;&lt;p&gt;
I think we should be using &quot;multipart/form-data&quot; for POST forms because I think it will be less likely to run into size limitation in some browsers.  I think this is why some people can't handle wiki's or more than 32kB.  I thought I had already changed this for the wikis, but I guess not.  I'm a little shy of making such global changes (which is probably why I didn't change it when I thought I had) but it has been in the back of my head long enough that I'm getting pretty comfortable with the idea.  If anyone is aware of any problems with using &quot;multipart/form-data&quot;, please speak up.
&lt;/p&gt;&lt;p&gt;
I didn't like the unconditional target=&gt;&quot;_self&quot; at first but I'm starting to get used to that idea as well.  I guess I worry a little that some browser might not recognize that and open a new window.  *shrug*
&lt;/p&gt;&lt;p&gt;
We need to remove all occurrances of $ENV{SCRIPT_NAME} (including places that get CGI.pm to use it w/o mentioning it directly).  action=&quot;?&quot; is what we want instead, always.  This is another one of those changes that I prefer to do slowly to give time for us to notice that people are noticing problems.  $ENV{SCRIPT_NAME} causes out internal URL to look like href=&quot;/index.pl?&quot; unless someone hits a page using a different URL so we might have href=&quot;/~perlmonk/index.pl?&quot; or href=&quot;/ccs/index.pl?&quot; which sucks when they show up in a cached other users nodelet.  We have some really good uses for adding things like /ccs/, /bare/, /ns4/, and /robot/ and $ENV{SCRIPT_NAME} is in the way.
&lt;/p&gt;&lt;p&gt;
I much prefer those concatenation &quot;.&quot;s to be at the front of lines rather than at the back of lines.  As is, I didn't notice them until just now.
&lt;/p&gt;
&lt;p&gt;[JayBonci], 2003-03-15 &lt;br /&gt;
givevotes needs to be added to [restricted fields], or users can get around their voting blocks.
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[theorbtwo], 2003-03-14 5:10 PM&lt;br /&gt;
Happy pi day, and Einstein's birthday!&lt;/p&gt;
&lt;p&gt;[id://243041] looks good.  I changed the indentation on it a little, to make it read more nicely.  I left the comment there, not sure what we should do about it... do we want another db col for &quot;original poster&quot;?  We probably shouldn't leave it as a comment in the text, because either it'll clutter up the node, or it will make extra work for the god that applies it, and won't leave a perminate record anyway.  Anyway, while I thought of that, I reformatted the attributation, and more importantly, added documentation.  I'd like to see the Monastery better documented, and adding documentation to nodes when you patch them is a good way to do that.  (In this case, it's somwhat surpurflous, since the code is so simple, but I was thinking about it.)&lt;/p&gt;
&lt;p&gt;[Mr. Muskrat], 2003-03-14 08:06 CST&lt;br /&gt;
I opted for patching [openform].  So I humbly give you [id://243041] for review.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[theorbtwo], 2003-03-13 6:30 PM EST&lt;br /&gt;
I see no problem with all forms having target=&quot;_self&quot; set, so you can just patch [openform] to always provide it.  Other options would be to hardcode the return of openform into [id://50772], adding a target=&quot;_self&quot;, or to change [openform] to give an optional hash (or hashref) of additional HTML attributes for the form tag.
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-03-13 5:13 CST&lt;br /&gt;
Okay, I didn't look at it *that* closely at first. :) So now my question is: Do we patch [openform] so that it affects all forms or is there a way to do this in [id://50772]?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Aristotle], 2003-03-13 18:10 server time&lt;br /&gt;
FWIW, [http://www.w3.org/TR/html401/|HTML 4.01] defines a [http://www.w3.org/TR/html401/present/frames.html#adef-target|target attribute] [http://www.w3.org/TR/html401/interact/forms.html#edef-FORM|for the form tag], so validity is not an issue.
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[theorbtwo], 2002-03-13 5:51 PM EST&lt;br /&gt;
[id://50772] does that, as do the rest of the [fullpage chat] parts, so that following links doesn't mess up the [fullpage chat] UI.  The correct solution is probably to add a base=&quot;_self&quot; to the &amp;lt;form&gt; tag.  I'm not sure why I havn't already submitted a patch to do that, though -- I suspect there's an issue with it being nonstandard HTML, or somthing -- I suspect I have a reason, and just don't remember what it is.  It's certianly possible that I'm smoking crack, however.  &lt;/p&gt;
&lt;p&gt;Oh, and [tye], on second thought, I like your proposed formatting better, because it really is hashlike and not tableish.  However, I'd still like to use \0, not \n, as a delimiter, because nodes can have \n's in them (and have them be significant, inside &amp;lt;code&gt; tags), and having this format be avaliable as well as XML for nodes would be nice).
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[Mr. Muskrat], 2003-03-13 15:44 CST &lt;b&gt;updated&lt;/b&gt; an hour later&lt;br /&gt;
Is there any reason why [id://50772] uses &lt;code&gt;&lt;base target=&quot;_new&quot; /&gt;&lt;/code&gt;?  I find it annoying that if I delete a message while using [fullpage chat] that a new window opens.  Am I the only one who thinks that this should be &lt;strike&gt;removed&lt;/strike&gt; changed to &lt;code&gt;&lt;base target=&quot;_self&quot; /&gt;&lt;/code&gt;?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[demerphq], 2003-03-13&lt;br /&gt;
For the record I disagree about using CSV. I liked [tye]s idea more. Also I have still to post my code for an in memory cache of the CB. I'm mostly done but I have a few last parts to complete before I can post. One of my colleague is leaving and his handovers are taking more time than I thought.
&lt;/p&gt;
&lt;p&gt;[Aristotle], 2003-03-13 15:00&lt;br /&gt;
That's trivially handled by having several separate tables per ticker, though, just as the XML essentially already has. (Newest Nodes f.ex - a table with node info and one that maps ID -&gt; username.) Of course that means we have to invent a convention for how to separate the tables: I propose prefixing a line with the content length to each table. (Or we could go whole hog and prefix the entire reply with a table of content lengths incl. its own..) As for people ignoring the headers, I'm inclined to document the fact that they required to read them and let it be their fault if they choose to ignore the warning. But if we want to be evil, we could have the CSV generator rotate the columns at random..
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-02-13&lt;br /&gt;
Good idea.  I still prefer my idea because it is so easy to get right that even a simple module would be overkill.  I also see more risk for people ignoring the headers with CSV.  And not all of the data is tabular; there is an initial block of data that is global and I think that stuff may become more important in future.  And there are a few proposals for making that data even less tabular (include titles for &lt;code&gt;[id://123125]&lt;/code&gt; links so clients don't need to fetch that seperately, for example.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[Aristotle], 2003-03-13 14:10 server time&lt;br /&gt;
Ya know, I think it's a great idea to provide the tickers in a different format than XML. But why reinvent the data format wheel? It's tabular data - CSV with column headers will do perfectly, and consistent quoting conventions for CSV fields do exist. There's a plethora of modules to parse CSV data correctly. It is easy to generate. CSV with headers makes it easy to add/remove/rename fields in the future. I can't see any compelling reason not to go with that. I've never liked the idea of using XML for tabular data anyway, but that's a rant for another day..
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-02-13&lt;br /&gt;
Thanks, [grinder].  I wrapped long lines in [id://242691], applied it, noticed a &quot;)&quot; that needed to be removed, fixed that.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[tye], 2003-02-13&lt;br /&gt;
Thanks, [jaybonci].  I trimmed the interface a lot and made a new [id://242771|patch] based on what you had written.  nit: link to patches by node ID since so many patches have identical titles, &lt;code&gt;[id://242771]&lt;/code&gt;.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[demerphq], 2003-03-13 (Thursday the 13th!)&lt;br /&gt;
Thank for reviewing that [tye]. In hindsight I can see why I _thought_ it looked correct on my screen (a small laptop screen), I think I didn't have the non ad images rendered correctly (I'll have to double check tonight). Ill change it to reflect your suggestions and repost.  BTW Im reading them as saying that its ok to ignore the monk pics/quips regardless on that node...
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[JayBonci], 2003-02-13&lt;br /&gt;
[patch display page - (patch)] addresses people being able to reown patches to the community. It's been roughly tested for e2, and should work here.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-02-12&lt;br /&gt;
I looked at [id://240370] (adds a timestamp to each item in [message inbox]).  Personally, I'd rather have the timestamps line up (&quot;On %s, %s said %s&quot;, or perhaps in a separate column where they would wrap) since timestamps are going to be nearly uniform length while monknames very in length quite a bit.  I'd be even happier with title=&quot;...&quot; like in the chatterbox nodelet as most of the time I don't care about the timestamp and it takes up quite a bit of space so I prefer to only see it when I take the effort to hover.
&lt;/p&gt;&lt;p&gt;
But I'd be interested in other opinions.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[tye], 2003-02-12&lt;br /&gt;
I tried out [id://241867] (puts the ad in a column on the end instead of a row on top).  I didn't really like the way it looked and it didn't fit on my screen (so I doubt it would fit on the target audience screen of laptops).  Perhaps removing the hard-coded column widths and just having the two &quot;talk&quot; items left justified and &quot;PerlMonks&quot; and the ads right justified?
&lt;/p&gt;
&lt;p&gt;[tye], 2003-02-12&lt;br /&gt;
No, I don't like the hard-coded field list.  Down the road we might want to add fields so I included field names intending the example code to split into a hash.  And I prefer plain text hence \n not \0.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[theorbtwo], 2003-02-12 6:10 PM&lt;br /&gt;
Sorry, [tye].  I see your point about paragraphs beginning with a username, but I like my writing style.  Also, I should have sent my remark about the probable problem with the XML to [grinder], not you.  And your ideas about providing a server that streams out the contents of the XML tickers, possibly in a different format, is a good one.  Should I try to write it?  I'm thinking a single process that runs on a single server on a well-known port and address, and polls the db server, at least for a first iteration.&lt;/p&gt;
&lt;p&gt;Format (where \0 reppresents a NUL, and spacing is just for niceness) (for private messages and public messages, which are probably most of the traffic).&lt;/p&gt;
&lt;code&gt;
message_id \0 author_user \0 author_username \0 time_t \0 text \0\0
&lt;/code&gt;
&lt;p&gt;Where author_username is the username and author_user is the nodeid of the user.  time_t is the UNIX time the message was written and text is the text.  The records are sepperated with a double-nul.  Records may be split into packets  at any point, so don't assume each packet will be a complete record.  The convention is that new fields are always added to the right, and old fields are never removed, or, if removed, will get a placeholder value.
&lt;/p&gt;
&lt;p&gt;How does that sound?&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[tye], 2003-02-12&lt;br /&gt;
Yes, [theorbtwo], I'm aware of that particular problem and realize that it might be why [grinder]'s XML parser is broken.  That doesn't change the fact that it is broken.  Unfortunately, doing anything to the current XML tickers to make life easier for people bitten by that horrid design decision would break several working ticker handlers.
&lt;/p&gt;&lt;p&gt;
This is just one more example of &quot;XML is not easy to use with Perl&quot; and makes me think we should offer a non-XML ticker for chatter since it is easy to design one that is trivial to parse in Perl.  My choice would be to s/\s/ /g (technically a \n can end up in several of the data items of the chatter ticker but doing so requires a broken browser or bypassing the browser and really shouldn't be supported) and use a format like:
&lt;code&gt;
&quot;epochtime=13135123\nauthor_id=1234\nauthor=dkw\n...text=/me 2\n\n&quot;
&lt;/code&gt;
and provide example code that does the [split] the proper way.
&lt;/p&gt;&lt;p&gt;
Also, we should have [Petruchio]'s chatter stream provider running on each PM web server and a similar stream multiplexer running on perlmonk.org so that the N different chat hording cron jobs can all get chatter with a minimal impact on perlmonk.org's not-super-fat pipe to the world.
&lt;/p&gt;&lt;p&gt;
I can't tell who said what below.  I try not to start my paragraphs in here with &quot;[somepmdever], ...&quot; to avoid this.  But if people are going to throw in quick notes w/o the traditional date trailer, then this becomes rather important.  I've been known to use indentation to help with that but I don't like idea all that much because of the work involved nor the space wasted.  Perhaps we should all put &lt;code&gt;&amp;bull;&lt;/code&gt; to start each of our entries?  Then we could all disagree (forever) about which dingbat to use just like we still don't use a standard date format.  Always using the HR is another option (I'll always use it for now).
&lt;/p&gt;&lt;p&gt;
And, [crazyinsomniac], please don't (just) use the &quot;list of recent changes&quot; in the to-do wiki to put to-do items.  I'd explain the problem but I just can't guess what you don't get about it so I'll let you ask/explain if needed.
&lt;/p&gt;&lt;p&gt;
Personally, I find the &quot;template&quot; to be more problem than it is worth.  It is more work to copy the parts of it needed (not the commenting parts), skip over it, paste it in, change the bits to be changed than it is to just type in such a short bit of text.  But it isn't such a pain that I'll fight it if others find it useful.
&lt;/p&gt;&lt;hr /&gt;
&lt;p&gt;[demerphq] 2003/03/12&lt;br /&gt;
[crazyinsomniac], I left a commented out template in the wiki for writing entries. Somebody deleted/used it though. Ive put it back now. If it annoyed someone could you say why?
&lt;/p&gt;
&lt;p&gt;[theorbtwo], Wed Mar 12 8:00 2003&lt;br /&gt;
[tye], some versions of I-should-remember-what-XML-module-but-don't will invoke Encode to convert from Latin-1 to utf-8 here, but die because the perl isn't new enough, but only do so when a character &gt;0x7f is seen.&lt;/p&gt;
&lt;p&gt;[crazyinsomniac] -- yes, my pmdev item is not the best placed under pmD, but most folks don't know how to use the dang wiki (as I understand it &lt;code&gt; &lt;hr&gt; &lt;p&gt; [user] timestamp &lt;br/&gt; latest message on topic here&lt;/p&gt; &lt;hr&gt; another topic &lt;/code&gt;).
&lt;/p&gt;
&lt;p&gt;[dws], people commonly say &quot;I became the Nth saint on mm/dd/yyyy.&quot;  We aren't adding another number to people, just making it easer to see.  However, we're not neccessarly giving the number they want, which is the relitive ordering /at the time of there cannonization/, which we don't store.  Also, the layout of that page is ugly as hell.  The number should have been added as a new column.  Also, the colums that always read &quot;10&quot; and &quot;saint&quot; can be removed.  Moreover, we need to either increase &quot;steps&quot;, or, much better, compute it based on the actual number of results returned.&lt;/p&gt;
&lt;p&gt;[crazyinsomniac], yes, this is a topic for PMD, but your voting on patches idea isn't.&lt;/p&gt;
&lt;p&gt;[crazyinsomniac], Wed Mar 12 12:47:28 2003&lt;br/&gt;
Isn't that a topic for [Perl Monks Discussions] (i think so).
&lt;/p&gt;
&lt;p&gt;[dws], 2003-03-12&lt;br/&gt;
[Saints in our Book] now ranks Saints by number. I suspect that putting yet another number on people is not a Good Thing.
&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;[tye], 2003-03-11&lt;br /&gt;
Sorry, that character is in Latin-1.  Your XML parser is broken.  I'm certain CDATA would break things.  We should be doing &lt;code&gt;&amp;#...;&lt;/code&gt; for control characters, however.
&lt;/p&gt;&lt;p&gt;
And, [belg4mit], just because you can't post a real [patch] for link code, doesn't mean you can't look at the code and write the patch so someone else can apply it.  See [handlelink settings] for the current code and [tye&amp;nbsp;|tye&amp;amp;nbsp;] for the hoped-for code. *sigh* (BTW, that sigh is for the fact that the hoped-for code is still not in production, i.e. my failing)
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[grinder], 2003-03-11 13:02:40 UTC&lt;br /&gt;
I've just stumbled onto a bug in the Newest Nodes ticker. There's a(n old) user named &#163;ok&#236; (sic), which is rendered as&lt;/p&gt;

&lt;code&gt;&lt;AUTHOR&gt; node_id=&quot;29931&quot;&gt;&#163;ok&#236;&lt;/AUTHOR&gt;&lt;/code&gt;

&lt;p&gt;This gives XML::SAX::PurePerl (among others) a heart attack, as the &#163; character does not exist in the ISO-8859-1 character set used to encode the ticker. I am personally inclined to wrap funny characters (or the entire content) in a &lt;code&gt;CDATA[...]&lt;/code&gt; PI, but fear that that may break things. Adding character entities would a) bulk up the ticker if a (large) list was added to each instance. I guess numeric entities could be used, or something upstream in the output generation could to that.&lt;/p&gt;

&lt;p&gt;In brief, I don't know which approach is the best one to explore&lt;/p&gt;

&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[demerphq], &lt;br /&gt;
I posted a [id://241867|patch] to the [Full Page Chat] to make the add/banner fit on one row. If you are on a small screen like a laptop it takes up half the screen. The banner is still there but it now coexists with the talk line, given back about an inch or so from what I can tell. Oh and for the same reason I took out the quips entirely. 
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;[crazyinsomniac],
I just noticed that the superdoc [id://481] does double escaping of &lt;CODE&gt; &lt; &gt; &lt;/CODE&gt;.
The [perlcraft display page] handles this fine.
&lt;/p&gt;
&lt;hr /&gt;
Continued in [id://242483]...
</doctext>
  <type_nodetype>68046</type_nodetype>
  <node_id>291673</node_id>
  <author_user>142755</author_user>
  <title>pmdev wiki through 2003-07-04</title>
  <createtime>2003-09-15 18:41:12</createtime>
  <nodeupdated>2005-08-09 09:32:42</nodeupdated>
</node>
